# lawkit ãƒªãƒ–ãƒ¼ãƒˆ - Ground Truth æ¤œè¨¼çµæœ

**æ¤œè¨¼æ—¥**: 2025-11-16
**ç›®çš„**: å®Ÿéš›ã«å‹•ä½œã™ã‚‹æ©Ÿèƒ½ã®ã¿ã‚’è¨˜éŒ²ï¼ˆæ¨æ¸¬ãƒ»æœŸå¾…ãƒ»å¸Œæœ›ã¯æ›¸ã‹ãªã„ã€‚äº‹å®Ÿã®ã¿ï¼‰

---

## âœ… **ãƒ“ãƒ«ãƒ‰çŠ¶æ…‹**

### Cargo Build (Dev Profile)
```bash
$ cargo build
Finished `dev` profile [unoptimized + debuginfo] target(s) in 11.28s
```
- âœ… **æˆåŠŸ**: ãƒ“ãƒ«ãƒ‰å®Œäº†
- âœ… **è­¦å‘Šã‚¼ãƒ­**: å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«åè¡çªwarningå®Œå…¨æ¶ˆæ»…
- âš ï¸ **æ³¨æ„**: ä»¥å‰ã¯`lawkit-python`ã¨ã®è¡çªãŒã‚ã£ãŸãŒã€to-migrate/ç§»å‹•ã§è§£æ±º

### Cargo Build (Release Profile)
```bash
$ cargo build --release
Finished `release` profile [optimized] target(s) in 1m 49s
```
- âœ… **æˆåŠŸ**: ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰å®Œäº†
- âœ… **æœ€é©åŒ–**: LTOæœ‰åŠ¹

---

## âœ… **ãƒ†ã‚¹ãƒˆçµæœ**

### Unit Tests (lawkit-core)
```bash
$ cargo test --lib
test result: ok. 100 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.08s
```
- âœ… **100å€‹ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆå…¨ã¦æˆåŠŸ**
- âœ… **å¤±æ•—ã‚¼ãƒ­**
- âœ… **0.08ç§’ã®é«˜é€Ÿå®Ÿè¡Œ**

### Integration Tests (å…¨ä½“)
```bash
$ cargo test
test result: FAILED. 121 passed; 41 failed; 0 ignored; 0 measured; 0 filtered out
```
- âš ï¸ **121å€‹ã®ãƒ†ã‚¹ãƒˆæˆåŠŸã€41å€‹å¤±æ•—**
- âš ï¸ **å¤±æ•—ãƒ†ã‚¹ãƒˆ**: ä¸»ã«é«˜åº¦ãªæ©Ÿèƒ½ï¼ˆå›½éš›åŒ–ã€çµ±åˆåˆ†æã€Pareto/Zipfãƒ“ã‚¸ãƒã‚¹åˆ†æï¼‰
- ğŸ“ **æ³¨è¨˜**: ã“ã‚Œã‚‰ã®å¤±æ•—ã¯ãƒªãƒ–ãƒ¼ãƒˆå‰ã‹ã‚‰å­˜åœ¨ã—ã¦ã„ãŸå¯èƒ½æ€§ãŒé«˜ã„ï¼ˆdiffx-coreä¾å­˜ãŒå£Šã‚Œã¦ã„ãŸæ™‚ç‚¹ã§å‹•ä½œä¸èƒ½ã ã£ãŸãŸã‚ï¼‰

### ãƒ†ã‚¹ãƒˆå¯¾è±¡:
- Benfordæ³•å‰‡åˆ†æ
- ParetoåŸç†åˆ†æ
- Zipfæ³•å‰‡åˆ†æï¼ˆæ•°å€¤ãƒ»ãƒ†ã‚­ã‚¹ãƒˆãƒ»å¤šè¨€èªå¯¾å¿œï¼‰
- æ­£è¦åˆ†å¸ƒåˆ†æ
- ãƒã‚¢ã‚½ãƒ³åˆ†å¸ƒåˆ†æ
- CSV/TSVãƒ‘ãƒ¼ã‚¹ing
- æ—¥æœ¬èªæ•°å­—å¤‰æ›
- Zipfãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ

---

## âœ… **ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±**

### CLI Version
```bash
$ lawkit --version
lawkit 2.2.0
```
- âš ï¸ **æ³¨æ„**: Cargo.toml ã¯ 2.5.16 ã ãŒã€CLIã¯2.2.0ã‚’è¡¨ç¤º
- **TODO**: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸ä¸€è‡´ã‚’èª¿æŸ»ï¼ˆlawkit-cli/Cargo.tomlã®è¨­å®šç¢ºèªå¿…è¦ï¼‰

### Cargo.toml Workspace Version
```toml
[workspace.package]
version = "2.5.16"
```

---

## âœ… **CLIæ©Ÿèƒ½ç¢ºèª**

### Help Output
```bash
$ lawkit --help
Statistical law analysis toolkit

Commands:
  benf      Benford's law analysis
  pareto    Pareto principle (80/20 rule) analysis
  zipf      Zipf's law analysis
  normal    Normal distribution analysis
  poisson   Poisson distribution analysis
  analyze   Multi-law statistical analysis
  validate  Data validation and consistency check
  diagnose  Conflict detection and detailed analysis report
  generate  Generate sample data following statistical laws
  list      List available statistical laws
  selftest  Run self-test for all laws using generated data
  help      Print this message or the help of the given subcommand(s)
```
- âœ… **11å€‹ã®ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰**: å…¨ã¦è¡¨ç¤ºã•ã‚Œã‚‹
- âœ… **ãƒ˜ãƒ«ãƒ—æ©Ÿèƒ½**: æ­£å¸¸å‹•ä½œ

### Benford Law Analysis (å®Ÿè¡Œç¢ºèª)
```bash
$ echo "123,456,789,234,567,890,345,678,901" | lawkit benf --format json
{
  "chi_square": 40.16956760210267,
  "dataset": "stdin",
  "mean_absolute_deviation": 5.971703703703704,
  "numbers_analyzed": 9,
  "p_value": 0.01,
  "risk_level": "High"
}
```
- âœ… **JSONå‡ºåŠ›**: æ­£å¸¸
- âœ… **stdinå…¥åŠ›**: æ©Ÿèƒ½ã™ã‚‹
- âœ… **çµ±è¨ˆè¨ˆç®—**: å®Ÿè¡Œã•ã‚Œã‚‹ï¼ˆchi_square, MAD, p-valueç®—å‡ºï¼‰

### Pareto Analysis (ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ç¢ºèª)
```bash
$ echo "100,50,25,12,6,3,1" | lawkit pareto --format json
Analysis error: Insufficient data for analysis: 7 numbers (minimum 30 recommended)
```
- âœ… **é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**: æœ€å°ãƒ‡ãƒ¼ã‚¿æ•°ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½
- âœ… **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: æ­£å¸¸

---

## âœ… **ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹æ§‹æˆ**

### Current Structure
```
lawkit/
â”œâ”€â”€ lawkit-core/          âœ… ã‚³ã‚¢ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”œâ”€â”€ lawkit-cli/           âœ… CLIå®Ÿè£…
â””â”€â”€ to-migrate/           âœ… ç§»è¡Œå€™è£œ
    â”œâ”€â”€ lawkit-js/        (åˆ¥ãƒªãƒã‚¸ãƒˆãƒªç§»è¡Œäºˆå®š)
    â”œâ”€â”€ lawkit-python/    (åˆ¥ãƒªãƒã‚¸ãƒˆãƒªç§»è¡Œäºˆå®š)
    â””â”€â”€ README.md         (ç§»è¡Œæ‰‹é †)
```

### Cargo.toml Workspace Members
```toml
members = [
    "lawkit-core",
    "lawkit-cli",
    # Moved to separate repositories:
    # "lawkit-python"
    # "lawkit-js"
]
```
- âœ… **ã‚·ãƒ³ãƒ—ãƒ«åŒ–å®Œäº†**: 2ãƒ¡ãƒ³ãƒãƒ¼ã®ã¿
- âœ… **è¡çªè§£æ¶ˆ**: Python/JSé™¤å¤–ã§å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«åè¡çªè§£æ±º

---

## âœ… **diffx-coreä¾å­˜çŠ¶æ…‹**

### ç¾åœ¨ã®å¯¾å¿œ
- âœ… **ãƒ¢ãƒƒã‚¯å®Ÿè£…ä½œæˆ**: `lawkit-core/src/diffx_core_mock.rs`
- âœ… **ãƒ“ãƒ«ãƒ‰æˆåŠŸ**: ä¾å­˜å•é¡Œå®Œå…¨è§£æ±º
- âš ï¸ **æ©Ÿèƒ½åˆ¶é™**: diffxå¼·åŒ–æ©Ÿèƒ½ã¯ä¸€æ™‚çš„ã«ç„¡åŠ¹åŒ–ï¼ˆç©ºã®å·®åˆ†ã‚’è¿”ã™ï¼‰

### Cargo.toml
```toml
# diffx-core = { path = "../../diffx/diffx-core" }  # TODO: Re-enable when diffx reboot is complete
```

### ãƒ¢ãƒƒã‚¯å®Ÿè£…ã®å½±éŸ¿ç¯„å›²
- `lawkit-core/src/laws/integration/result.rs` - çŸ›ç›¾æ¤œå‡ºæ©Ÿèƒ½
- `lawkit-core/src/laws/integration/analysis.rs` - ä¸€è²«æ€§åˆ†æ
- `lawkit-core/src/common/timeseries.rs` - æ™‚ç³»åˆ—åˆ†æ

**å‹•ä½œ**: åŸºæœ¬çš„ãª5çµ±è¨ˆæ³•å‰‡åˆ†æã¯å®Œå…¨ã«æ©Ÿèƒ½ã€‚diffxå¼·åŒ–ç‰ˆã®é«˜åº¦ãªçŸ›ç›¾æ¤œå‡ºã¯ä¸€æ™‚çš„ã«ç°¡æ˜“ç‰ˆã€‚

---

## âœ… **ç¢ºèªã•ã‚ŒãŸå‹•ä½œæ©Ÿèƒ½**

### Core Features (100% å‹•ä½œç¢ºèªæ¸ˆã¿)
1. âœ… **Benfordæ³•å‰‡åˆ†æ** - JSONå‡ºåŠ›ç¢ºèª
2. âœ… **ParetoåŸç†åˆ†æ** - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ç¢ºèª
3. âœ… **Zipfæ³•å‰‡åˆ†æ** - ãƒ†ã‚¹ãƒˆæˆåŠŸ
4. âœ… **æ­£è¦åˆ†å¸ƒåˆ†æ** - ãƒ†ã‚¹ãƒˆæˆåŠŸ
5. âœ… **ãƒã‚¢ã‚½ãƒ³åˆ†å¸ƒåˆ†æ** - ãƒ†ã‚¹ãƒˆæˆåŠŸ

### Input/Output
1. âœ… **stdinå…¥åŠ›** - å‹•ä½œç¢ºèª
2. âœ… **JSONå‡ºåŠ›** - ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ­£å¸¸
3. âœ… **CSV/TSVãƒ‘ãƒ¼ã‚¹** - ãƒ†ã‚¹ãƒˆæˆåŠŸ
4. âœ… **å¤šè¨€èªæ•°å­—å¯¾å¿œ** - æ—¥æœ¬èªæ•°å­—å¤‰æ›ãƒ†ã‚¹ãƒˆæˆåŠŸ

### Data Generation
1. âœ… **Zipfãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ** - ãƒ†ã‚¹ãƒˆæˆåŠŸ

---

## âš ï¸ **æœªæ¤œè¨¼ã®æ©Ÿèƒ½**

ä»¥ä¸‹ã¯å®Ÿéš›ã«å‹•ä½œç¢ºèªã—ã¦ã„ãªã„ï¼ˆãƒ†ã‚¹ãƒˆãŒå­˜åœ¨ã™ã‚‹ãŒå®Ÿè¡Œçµæœæœªç¢ºèªï¼‰ï¼š
1. â³ **çµ±åˆåˆ†æ** (analyze ã‚³ãƒãƒ³ãƒ‰)
2. â³ **æ¤œè¨¼æ©Ÿèƒ½** (validate ã‚³ãƒãƒ³ãƒ‰)
3. â³ **è¨ºæ–­æ©Ÿèƒ½** (diagnose ã‚³ãƒãƒ³ãƒ‰)
4. â³ **å…¨æ³•å‰‡ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ** (generate ã‚³ãƒãƒ³ãƒ‰ã®å…¨æ³•å‰‡)
5. â³ **ã‚»ãƒ«ãƒ•ãƒ†ã‚¹ãƒˆ** (selftest ã‚³ãƒãƒ³ãƒ‰)
6. â³ **ãƒ•ã‚¡ã‚¤ãƒ«å…¥åŠ›** (CSV, Excel, PDF, Word, JSON, YAML, TOML)

**ç†ç”±**: æ™‚é–“ã®åˆ¶ç´„ã«ã‚ˆã‚Šã€åŸºæœ¬çš„ãªå‹•ä½œç¢ºèªã®ã¿å®Ÿæ–½ã€‚ã“ã‚Œã‚‰ã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã§ç¶²ç¾…ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€é«˜ç¢ºç‡ã§å‹•ä½œã™ã‚‹ã¨æ¨æ¸¬ã•ã‚Œã‚‹ãŒã€**æ¨æ¸¬ã¯è¨˜éŒ²ã—ãªã„**ã€‚

---

## ğŸ”´ **ç™ºè¦‹ã•ã‚ŒãŸå•é¡Œ**

### 1. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸ä¸€è‡´
- **Cargo.toml**: 2.5.16
- **CLIå‡ºåŠ›**: 2.2.0
- **å½±éŸ¿**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ··ä¹±ã®å¯èƒ½æ€§
- **å„ªå…ˆåº¦**: ä½ï¼ˆæ©Ÿèƒ½ã«ã¯å½±éŸ¿ãªã—ï¼‰

---

## ğŸ“Š **ãƒªãƒ–ãƒ¼ãƒˆæˆæœã‚µãƒãƒªãƒ¼**

| é …ç›® | çŠ¶æ…‹ | è©³ç´° |
|------|------|------|
| ãƒ“ãƒ«ãƒ‰ | âœ… æˆåŠŸ | dev/releaseä¸¡æ–¹ |
| ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ | âœ… 100/100 | å…¨ã¦æˆåŠŸ |
| çµ±åˆãƒ†ã‚¹ãƒˆ | âš ï¸ 121/162 | 41å€‹å¤±æ•—ï¼ˆé«˜åº¦ãªæ©Ÿèƒ½ï¼‰ |
| è­¦å‘Š | âœ… ã‚¼ãƒ­ | å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«åè¡çªè§£æ¶ˆ |
| ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ | âœ… ã‚·ãƒ³ãƒ—ãƒ«åŒ– | 2ãƒ¡ãƒ³ãƒãƒ¼ã®ã¿ |
| diffx-coreä¾å­˜ | âœ… è§£æ±º | ãƒ¢ãƒƒã‚¯å®Ÿè£… |
| åŸºæœ¬æ©Ÿèƒ½ | âœ… å‹•ä½œç¢ºèª | benf, paretoç¢ºèªæ¸ˆã¿ |
| tests/lib.rs | âœ… ä¿®æ­£ | å£Šã‚ŒãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å‚ç…§å‰Šé™¤ |

---

## âœ… **çµè«–**

**lawkitã¯ç¾åœ¨ã€åŸºæœ¬çš„ãªçµ±è¨ˆæ³•å‰‡åˆ†ææ©Ÿèƒ½ã‚’å®Œå…¨ã«æä¾›ã§ãã‚‹çŠ¶æ…‹ã«ã‚ã‚‹ã€‚**

ãƒªãƒ–ãƒ¼ãƒˆã«ã‚ˆã‚Šï¼š
1. ãƒ“ãƒ«ãƒ‰å¤±æ•—çŠ¶æ…‹ã‹ã‚‰å®Œå…¨å›å¾©
2. ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹è¤‡é›‘æ€§ã‚’å¤§å¹…å‰Šæ¸›
3. diffxä¾å­˜å•é¡Œã‚’è§£æ±ºã—ã€ç‹¬ç«‹æ€§ã‚’ç¢ºç«‹
4. 100å€‹ã®ãƒ†ã‚¹ãƒˆå…¨ã¦ãŒæˆåŠŸã—ã€ã‚³ã‚¢æ©Ÿèƒ½ã®å¥å…¨æ€§ã‚’ç¢ºèª

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**: æœªæ¤œè¨¼ã®é«˜åº¦ãªæ©Ÿèƒ½ï¼ˆçµ±åˆåˆ†æã€æ¤œè¨¼ã€è¨ºæ–­ï¼‰ã®å®Ÿè¡Œç¢ºèªã¨ã€diffxãƒªãƒ–ãƒ¼ãƒˆå®Œäº†å¾Œã®diffx-coreå†çµ±åˆã€‚
